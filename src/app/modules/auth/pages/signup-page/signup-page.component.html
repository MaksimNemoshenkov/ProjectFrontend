<div class="signup">
  <div class="picture">
    <img src="assets/kitchen.png" alt="Kitchen background">
  </div>
  
  <div class="inner">
    <!-- Modal overlay for email confirmation -->
    <div [ngClass]="{'fixed-overlay': toggle, 'fixed': !toggle}" class="fixed-overlay">
      <div class="modal">
        <div class="popup">
          <div class="field"></div>
          <span>Confirm email</span>
          <div class="field"></div>
          <a routerLink="/login">Login here</a>
        </div>
      </div>
    </div>
    
    <!-- Main signup form -->
    <div class="signup-page__form" [formGroup]="form">
      <h1>Create Account</h1>
      
      <nz-form-control
        [nzValidateStatus]="form.controls.email.touched && form.controls.email.errors ? 'error' : ''"
        nzErrorTip="Please enter a valid email address"
      >
        <input
          class="signup-page__input"
          nz-input
          placeholder="Email address"
          formControlName="email"
          type="email"
        />
      </nz-form-control>
      
      <input
        class="signup-page__input"
        nz-input
        placeholder="First Name"
        formControlName="firstname"
        type="text"
      />
      
      <input
        class="signup-page__input"
        nz-input
        placeholder="Last Name"
        formControlName="lastname"
        type="text"
      />
      
      <nz-form-control
        [nzValidateStatus]="form.controls.password.touched && form.controls.password.errors ? 'error' : ''"
        nzErrorTip="Password must be at least 8 characters long"
      >
        <input
          class="signup-page__input"
          nz-input
          placeholder="Password"
          type="password"
          formControlName="password"
        />
      </nz-form-control>
      
      <nz-form-control
        [nzValidateStatus]="form.controls.confirmPassword.touched && form.controls.confirmPassword.errors ? 'error' : ''"
        nzErrorTip="Passwords must match"
      >
        <input
          class="signup-page__input"
          nz-input
          placeholder="Confirm Password"
          type="password"
          formControlName="confirmPassword"
        />
      </nz-form-control>

      <app-button
        text="Create Account"
        type="primary"
        size="large"
        [fullWidth]="true"
        [disabled]="!form.valid"
        (clicked)="onLoginClick()"
      ></app-button>
      
      <!-- Error and success messages -->
      <div *ngIf="error" class="message-container">
        <nz-alert nzType="error" [nzMessage]="message" nzShowIcon></nz-alert>
      </div>
      
      <!-- Navigation links -->
      <div class="signup-page__link">
        <p>Already have an account? <a routerLink="/login">Sign in</a></p>
        <p><a routerLink="/recovery">Forgot password?</a></p>
        <p><a routerLink="/">Back to home</a></p>
      </div>
    </div>
  </div>
</div>

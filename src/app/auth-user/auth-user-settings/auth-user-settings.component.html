<app-user-sceleton></app-user-sceleton>

<div>
  <div class="__content">
    <span class="title">My Settings</span>

    <div class="__personal_information" [formGroup]="form">
      <div>
        <nz-form-control>
          <div>
            <p>First name</p>
            <input
              class="settings_page__input"
              nz-input
              [(ngModel)]="firstname"
              placeholder="John"
              formControlName="firstname"
            />
          </div>
        </nz-form-control>
      </div>

      <div>
        <nz-form-control>
          <div>
            <p>Last name</p>
            <input
              class="settings_page__input"
              nz-input
              [(ngModel)]="lastname"
              placeholder="Smith"
              formControlName="lastname"
            />
          </div>
        </nz-form-control>
      </div>

      <div>
        <button (click)="savePersonalInformation()" class="_save_change_personal_information"><h3 class="__button_text">
          Save changes</h3></button>

      </div>
    </div>

    <!-- photo block-->
    <div class="__photo_block">

      <div class="__photo">
      <advanced-image [cldImg]="img" ></advanced-image>
<!--      </div>
      <ngx-dropzone-image-preview ngProjectAs="ngx-dropzone-preview" *ngFor="let f of files" [file]="f"> </ngx-dropzone-image-preview>
      <div>-->
        <input type="file" (change)="onFileSelect($event)" class="dn" #uploadFile>
        <div (click)="uploadFile.click()" class="p-4">
<!--          <h1>Click me for change avatar, baby!</h1>-->
          <button type="button"  class="__change_photo"><h3 class="__button_text">Change photo</h3></button>
        </div>
      </div>
    </div>


      <div>
        <span class="change-password-title">Change password</span>

        <div class="__change-password" [formGroup]="passwordForm">
          <div>
            <nz-form-control
              [nzValidateStatus]="
              passwordForm.controls.oldPassword.touched &&
              passwordForm.controls.oldPassword.errors
                ? 'error'
                : ''
            "
              nzErrorTip="old password error"
            >
              <input
                class="password-input"
                nz-input
                placeholder="Old Password"
                type="password"
                formControlName="oldPassword"
              />
            </nz-form-control>
          </div>

          <div>
            <nz-form-control
              [nzValidateStatus]="
              passwordForm.controls.password.touched &&
              passwordForm.controls.password.errors
                ? 'error'
                : ''
            "
              nzErrorTip="new password must be 8-12 characters"
            >
              <input
                class="password-input"
                nz-input
                placeholder="New Password"
                type="password"
                formControlName="password"
              />
            </nz-form-control>
          </div>

          <div>
            <nz-form-control
              [nzValidateStatus]="
              passwordForm.controls.confirmPassword.touched &&
              passwordForm.controls.confirmPassword.errors
                ? 'error'
                : ''
            "
              nzErrorTip="confirm password must match"
            >
              <input
                class="password-input"
                nz-input
                placeholder="Confirm Password"
                type="password"
                formControlName="confirmPassword"
                (keyup.enter)="onSavePasswordClick()"
              />
            </nz-form-control>
          </div>

          <div>
            <button class="__controller" (click)="onSavePasswordClick()">
              <h3 class="__button_text">Save changes</h3>
            </button>
          </div>

        </div>
      </div>
    </div>
  </div>
</div>

<app-user-sceleton></app-user-sceleton>

<div>
  <div class="__content">
    <span class="title">My Settings</span>

    <div class="__personal_information" [formGroup]="form">
      <div>
        <nz-form-control>
          <div>
            <p>First name</p>
            <input
              class="settings_page__input"
              nz-input
              [(ngModel)]="firstname"
              placeholder="John"
              formControlName="firstname"
            />
          </div>
        </nz-form-control>
      </div>

      <div>
        <nz-form-control>
          <div>
            <p>Last name</p>
            <input
              class="settings_page__input"
              nz-input
              [(ngModel)]="lastname"
              placeholder="Smith"
              formControlName="lastname"
            />
          </div>
        </nz-form-control>
      </div>

      <div>
        <button (click)="savePersonalInformation()" class="_save_change_personal_information"><h3 class="__button_text">Save changes</h3></button>

      </div>
    </div>

    <!-- photo block-->
    <div class="__photo_block">

      <div class="__photo">
      <advanced-image [cldImg]="img" ></advanced-image>
      </div>
      <ngx-dropzone-image-preview ngProjectAs="ngx-dropzone-preview" *ngFor="let f of files" [file]="f"> </ngx-dropzone-image-preview>

      <ngx-dropzone (change)="onSelect($event)" >
        <ngx-dropzone-label>Drop it, baby!</ngx-dropzone-label>
      </ngx-dropzone>

      <div>
<!--        <button type="button" (click)="uploadFile.change" class="__select_photo"><h3 class="__button_text">Select photo</h3> </button>-->
        <button type="button" (click)="onUpLoad()" class="__change_photo"><h3 class="__button_text">Save photo</h3> </button>
      </div>

<!--
     <input type="file" class="input-file" [accept]="acceptTypes" (change)="changeListener($event)" #uploadFile>
      <div class="d-flex" (click)="uploadFile.click()">
        <p class="label-display">
          <mat-label>{{label}}</mat-label>
        </p>
      </div> -->



    </div>

    <div>
      <span class="title-change-password">Change password</span>

      <div class="__change-password" [formGroup]="passwordForm">
        <div>
          <nz-form-control
            [nzValidateStatus]="
              passwordForm.controls.oldPassword.touched &&
              passwordForm.controls.oldPassword.errors
                ? 'error'
                : ''
            "
            nzErrorTip="old password error"
          >
            <input
              class="password-input"
              nz-input
              placeholder="Old Password"
              type="password"
              formControlName="oldPassword"
            />
          </nz-form-control>
        </div>

        <div>
          <nz-form-control
            [nzValidateStatus]="
              passwordForm.controls.password.touched &&
              passwordForm.controls.password.errors
                ? 'error'
                : ''
            "
            nzErrorTip="new password must be 8-12 characters"
          >
            <input
              class="password-input"
              nz-input
              placeholder="New Password"
              type="password"
              formControlName="password"
            />
          </nz-form-control>
        </div>

        <div>
          <nz-form-control
            [nzValidateStatus]="
              passwordForm.controls.confirmPassword.touched &&
              passwordForm.controls.confirmPassword.errors
                ? 'error'
                : ''
            "
            nzErrorTip="confirm password must match"
          >
            <input
              class="password-input"
              nz-input
              placeholder="Confirm Password"
              type="password"
              formControlName="confirmPassword"
              (keyup.enter)="onSavePasswordClick()"
            />
          </nz-form-control>
        </div>

        <div>
          <button class="__controller" (click)="onSavePasswordClick()">
            <h3 class="__button_text">Save changes</h3>
          </button>
        </div>

      </div>
    </div>
  </div>
</div>
